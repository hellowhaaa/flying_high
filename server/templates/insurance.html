{% extends "layout.html" %} {% block content %}
<style>
  .background-image {
    /* 使用 Jinja2 模板語法 */
    background-image: url("{{ url_for('static', filename='images/cabin_dark.jpg') }}");
    opacity: 0.8;
    height: 100vh;
    width: 100vw;
    background-position: center center; 
    background-repeat: no-repeat; 
    background-size: cover; /* 圖像適應 container */
    position: fixed; /* 不滾動 */
    top: 0;
    left: 0;
    z-index: -1; /* 確保圖像在內容之下 */
  }
  .outer {
    position: relative;
    min-height: 90vh; /* Set to the height of the viewport */
    display: flex;
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
  }
  .insurance-info {
    position: absolute; /* Allows absolute positioning inside */
    background: rgba(255, 255, 255, 0.879); /* Semi-transparent white background */
    padding: 2rem;
    border-radius: 1rem; /* Rounded corners */
    box-shadow: 0 0 1rem rgba(0, 0, 0, 0.1); /* Soft shadow */
    width: 75%;
    min-height: 400px; /* Ensures that there's enough space for positioning */
    transform: translateY(50px);
  }
  .container {
    position: relative; /* Allows absolute positioning inside */
}
.insurance-title {
            position: relative;
            top: -180px;
            left: 0px;
            color: white; 
        }
.my-insurance {
    position: relative;
    top: -180px;
    left: 50px;
    color: white;
}

</style>

<div class="container">
  <div class="background-image"></div>
  <div class="outer">
    <h3 class="text-white insurance-title">查看保單</h3>
    <a href="#">
    <p class="text-white my-insurance">我的保單</p>
</a>

    <div class="insurance-info">
        <div class="container">
        <div class="row">
        <!-- 下拉選單 保險公司 -->
        <div class="dropdown mb-3 col-md-2">
            <button class="btn btn-secondary dropdown-toggle opacity-75" type="button" id="insuranceCompanyDropdown" data-bs-toggle="dropdown" aria-expanded="false">
              保險公司
            </button>
            <ul class="dropdown-menu" aria-labelledby="insuranceCompanyDropdown">
              <li><a class="dropdown-item" href="#" data-company="fubon">富邦人壽</a></li>
              <li><a class="dropdown-item" href="#" data-company="shinkong">新光人壽</a></li>
              <li><a class="dropdown-item" href="#" data-company="cathay">國泰人壽</a></li>
            </ul>
          </div>
          <!-- 下拉選單 方案 -->
          <div class="dropdown mb-3 col-md-2">
            <button class="btn btn-secondary dropdown-toggle opacity-75" type="button" id="planDropdown" data-bs-toggle="dropdown" aria-expanded="false">
              方案
            </button>
            <ul class="dropdown-menu" aria-labelledby="planDropdown" id="planMenu">
              <!-- Javascript 動態 -->
            </ul>
            </div>
          <!-- 下拉選單 保險額度 -->
          <div class="dropdown mb-3 col-md-2">
            <button class="btn btn-secondary dropdown-toggle opacity-75" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown" aria-expanded="false">
                保險額度
            </button>
            <ul class="dropdown-menu" aria-labelledby="insuranceAmountMenu" id="insuranceAmountMenu">
              
            </ul>
          </div>
        </div>
    </div>
<div class="container">
    <!-- 保險開始日期和時間 -->
    <div class="row mb-3">
        <!-- 開始日期 -->
        <div class="col-md-6">
            <label for="startDate" class="form-label">旅遊開始日期:</label>
            <input type="date" class="form-control" id="startDate" name="startDate">
        </div>
        <!-- 開始時間 -->
        <div class="col-md-6">
            <label for="startTime" class="form-label">旅遊開始時間:</label>
            <select class="form-control" id="startTime" name="startTime">
                 <!-- Javascript 動態 -->
            </select>
        </div>
    </div>

    <!-- 保險結束日期和時間 -->
    <div class="row mb-3">
        <!-- 結束日期 -->
        <div class="col-md-6">
            <label for="endDate" class="form-label">旅遊結束日期:</label>
            <input type="date" class="form-control" id="endDate" name="endDate">
        </div>
        <!-- 結束時間 -->
        <div class="col-md-6">
            <label for="endTime" class="form-label">旅遊結束時間:</label>
            <select class="form-control" id="endTime" name="endTime">
                 <!-- Javascript 動態 -->
            </select>
        </div>
    </div>
</div>


        
          
        </div>
      </div>
    </div>s
    </div>
  </div>
</div>

{% endblock %}
{% block scripts %}
<!-- 特定页面的 JavaScript -->

<script>
document.addEventListener('DOMContentLoaded', function () {
    const menu = document.getElementById('insuranceAmountMenu');
    for (let amount = 200; amount <= 1500; amount += 100) {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.className = 'dropdown-item';
        a.href = '#'; 
        a.textContent = `${amount}萬`;
        li.appendChild(a);
        menu.appendChild(li);
    }
});

document.addEventListener('DOMContentLoaded', function() {
  const insuranceCompanyMenu = document.getElementById('insuranceCompanyDropdown').nextElementSibling;
  const planMenu = document.getElementById('planMenu');

  // 预定义各保险公司对应的方案
  const plans = {
    'fubon': ['輕量型', '中型', '安心型'],
    'shinkong': ['基本型', '全面型', '豪華型'],
    'cathay': ['經濟型', '標準型', '高級型']
  };

  insuranceCompanyMenu.addEventListener('click', function(event) {
    if (event.target.tagName === 'A') {
      const company = event.target.getAttribute('data-company');
      updatePlansDropdown(plans[company] || []);
    }
  });

  function updatePlansDropdown(planOptions) {
    planMenu.innerHTML = ''; // 清空现有的方案
    planOptions.forEach(plan => {
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.className = 'dropdown-item';
      a.href = '#';
      a.textContent = plan;
      li.appendChild(a);
      planMenu.appendChild(li);
    });
  }
});

document.addEventListener('DOMContentLoaded', function () {
    const startTimeSelect = document.getElementById('startTime');
    const endTimeSelect = document.getElementById('endTime');
    for (let hour = 0; hour < 24; hour++) {
        for (let minute = 0; minute < 60; minute += 30) {
            const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
            startTimeSelect.options.add(new Option(timeString, timeString));
            endTimeSelect.options.add(new Option(timeString, timeString));
        }
    }
});

</script>
{% endblock %}
