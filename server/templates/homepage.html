{% extends "layout.html" %} {% block homepage %}

<script
  src="https://code.jquery.com/jquery-2.1.1.min.js"
  type="text/javascript"
></script>
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.1/css/select2.min.css"
  rel="stylesheet"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.1/js/select2.min.js"></script>
<!-- <script type="text/javascript">
  $(document).ready(function () {
    var country = [
      "Australia",
      "Bangladesh",
      "Denmark",
      "Hong Kong",
      "Indonesia",
      "Netherlands",
      "New Zealand",
      "South Africa",
    ];
    $("#country").select2({
      data: country,
    });
  });
</script> -->

<script type="text/javascript">
  $(document).ready(function () {
    fetch("http://127.0.0.1:5000/fetch_flight_code")
      .then((response) => response.json())
      .then((data) => {
        var country = Object.keys(data);
        $("#country").select2({
          data: country.map(function (key) {
            return { id: key, text: key };
          }),
        });
      })
      .catch((error) =>
        console.error("Error fetching the country list:", error)
      );
  });
</script>

{% endblock %} {% block content %}
<h1>主頁</h1>
<h1>DropDown with Search using jQuery</h1>
<div>
  <select id="country" style="width: 300px">
    <!-- Dropdown List Option -->
  </select>
</div>

{% endblock %}
